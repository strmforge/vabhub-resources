# 云存储服务配置
storage:
  # 115网盘配置
  115:
    enabled: true
    name: "115网盘"
    app_id: "${CLOUD115_APP_ID}"
    app_secret: "${CLOUD115_APP_SECRET}"
    base_url: "https://proapi.115.com"
    endpoints:
      upload: "/pc/ufile"
      download: "/pc/file"
      list: "/pc/files"
    max_file_size: 10737418240  # 10GB
    supported_formats:
      - "mp4"
      - "mkv"
      - "avi"
      - "mov"
      - "mp3"
      - "flac"
      - "jpg"
      - "png"

  # 123云盘配置
  123cloud:
    enabled: true
    name: "123云盘"
    app_id: "${CLOUD123_APP_ID:-03fe53676da44ddcbb5a22c04936ec4e}"
    app_secret: "${CLOUD123_APP_SECRET:-bfc256b0357b456c8a4e350445a4bd54}"
    base_url: "https://www.123pan.com/api"
    endpoints:
      upload: "/file/upload"
      download: "/file/download"
      list: "/file/list"
    max_file_size: 5368709120  # 5GB
    supported_formats:
      - "mp4"
      - "mkv"
      - "avi"
      - "mov"
      - "mp3"
      - "flac"
      - "jpg"
      - "png"

  # 本地存储配置
  local:
    enabled: true
    name: "本地存储"
    base_path: "${LOCAL_STORAGE_PATH:-./data/storage}"
    max_file_size: 21474836480  # 20GB
    supported_formats: all

# 存储策略配置
storage_strategy:
  # 默认存储服务
  default: "local"
  
  # 存储服务优先级
  priority:
    - "local"
    - "115"
    - "123cloud"
  
  # 自动切换策略
  auto_switch:
    enabled: true
    # 当存储空间使用率达到阈值时自动切换
    usage_threshold: 0.8  # 80%
    # 检查间隔（秒）
    check_interval: 300

# 上传配置
upload_settings:
  # 分片上传配置
  chunked_upload:
    enabled: true
    chunk_size: 10485760  # 10MB
    max_retries: 3
    retry_delay: 5  # 秒
  
  # 并发上传配置
  concurrent_upload:
    enabled: true
    max_concurrent: 3
    timeout: 300  # 5分钟

# 下载配置
download_settings:
  # 分片下载配置
  chunked_download:
    enabled: true
    chunk_size: 10485760  # 10MB
    max_retries: 3
    retry_delay: 5  # 秒
  
  # 限速配置
  rate_limit:
    enabled: false
    max_speed: 10485760  # 10MB/s

# 缓存配置
cache_settings:
  # 文件列表缓存
  file_list:
    enabled: true
    ttl: 300  # 5分钟
    max_size: 1000
  
  # 文件信息缓存
  file_info:
    enabled: true
    ttl: 3600  # 1小时
    max_size: 5000

# 监控配置
monitoring:
  # 存储空间监控
  storage_space:
    enabled: true
    check_interval: 60  # 1分钟
    alert_threshold: 0.9  # 90%
  
  # 上传下载速度监控
  speed_monitor:
    enabled: true
    sampling_interval: 10  # 10秒
    history_size: 60  # 保留60个采样点