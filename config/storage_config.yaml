# 存储 & 目录模块配置
# 基于MoviePilot设计，完整复刻存储管理功能

# 存储配置
storages:
  # 本地存储配置
  local:
    enabled: true
    name: "本地存储"
    description: "本地文件系统存储"
    root_path: "/data"
    transfer_types: ["hardlink", "softlink", "move", "copy"]
    
  # 123云盘配置
  123cloud:
    enabled: true
    name: "123云盘"
    description: "123云盘存储"
    app_id: "your_123cloud_app_id"
    app_secret: "your_123cloud_app_secret"
    transfer_types: ["move", "copy"]
    qrcode_login: true

# 文件管理器配置
file_manager:
  # 默认传输类型
  default_transfer_type: "copy"
  
  # 文件操作配置
  file_operations:
    max_file_size: 10737418240  # 10GB
    max_batch_size: 100
    timeout: 300  # 5分钟
    
  # 重试配置
  retry:
    max_attempts: 3
    delay: 5
    backoff: 2

# 智能重命名配置
renaming:
  # 电影命名规则
  movie_pattern: "{title} ({year})/{title} ({year}){quality}{edition}"
  
  # 电视剧命名规则
  tv_pattern: "{title} ({year})/Season {season:02d}/{title} - S{season:02d}E{episode:02d} - {episode_title}{quality}{edition}"
  
  # 动漫命名规则
  anime_pattern: "{title}/Season {season:02d}/{title} - S{season:02d}E{episode:02d} - {episode_title}"
  
  # 支持的媒体类型
  supported_types:
    - "movie"
    - "tv"
    - "anime"
    - "music"
    - "documentary"

# 媒体整理配置
organization:
  # 自动整理
  auto_organize: true
  
  # 整理规则
  rules:
    # 电影整理规则
    movie:
      enabled: true
      target_path: "/movies"
      naming_rule: "movie"
      
    # 电视剧整理规则
    tv:
      enabled: true
      target_path: "/tv"
      naming_rule: "tv"
      
    # 动漫整理规则
    anime:
      enabled: true
      target_path: "/anime"
      naming_rule: "anime"

# 缓存配置
cache:
  # 文件列表缓存
  file_list_ttl: 300  # 5分钟
  
  # 存储信息缓存
  storage_info_ttl: 600  # 10分钟
  
  # 空间信息缓存
  space_info_ttl: 1800  # 30分钟

# 日志配置
logging:
  level: "INFO"
  file: "/var/log/vabhub/storage.log"
  max_size: 10485760  # 10MB
  backup_count: 5

# 安全配置
security:
  # 文件操作权限
  allowed_paths:
    - "/data"
    - "/media"
    - "/downloads"
    
  # 禁止的操作
  forbidden_operations:
    - "rm -rf /"
    - "format"
    - "delete_system_files"

# 性能配置
performance:
  # 并发处理
  max_workers: 10
  
  # 批量操作大小
  batch_size: 50
  
  # 内存限制
  memory_limit: 1073741824  # 1GB

# 监控配置
monitoring:
  # 存储监控
  storage_monitor:
    enabled: true
    interval: 300  # 5分钟
    
  # 文件操作监控
  file_operations:
    enabled: true
    track_success: true
    track_failure: true
    
  # 性能监控
  performance:
    enabled: true
    metrics: ["response_time", "throughput", "error_rate"]